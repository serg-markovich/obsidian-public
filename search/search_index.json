{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Serg's DevOps Notes","text":"<p>Hi! I'm Serg, a DevOps engineer based in Stuttgart, Germany. This is my public knowledge base \u2014 notes I write while learning and building.</p>","tags":["devops","azure","kubernetes","homelab"]},{"location":"#sections","title":"Sections","text":"Section What's inside \u2601\ufe0f Azure AZ-104, CLI, cloud architecture \u2699\ufe0f DevOps Docker, Kubernetes, CI/CD, IaC \ud83c\udfe0 HomeLab VPS, self-hosted, Linux \ud83d\udcbc Portfolio Projects and case studies \ud83d\udcc5 TIL Daily findings and fixes","tags":["devops","azure","kubernetes","homelab"]},{"location":"#connect","title":"Connect","text":"<ul> <li>serg-markovich.de</li> <li>notes.serg-markovich.de</li> <li>my GitHub</li> <li>my LinkedIn</li> <li>my email</li> </ul>","tags":["devops","azure","kubernetes","homelab"]},{"location":"azure/","title":"Azure Notes","text":"<p>Azure-104 Administrator - Youtube </p>","tags":["azure","az-104","cloud","microsoft"]},{"location":"azure/#azure-notes","title":"Azure Notes","text":"","tags":["azure","az-104","cloud","microsoft"]},{"location":"devops/","title":"DevOps Notes","text":"","tags":["devops","docker","kubernetes","cicd","terraform","ansible"]},{"location":"homelab/","title":"HomeLab","text":"<ul> <li>My Homelab Setup</li> <li>Obsidian Vault Local Setup</li> </ul>","tags":["homelab","linux","ubuntu","self-hosted","vps"]},{"location":"homelab/#privacy-principles","title":"Privacy principles","text":"<p>All homelab services follow these principles:</p> <ul> <li>Data minimization \u2014 no telemetry, no analytics, no tracking on self-hosted services</li> <li>Local first \u2014 sensitive data stays on local hardware or private VPS, never in public cloud</li> <li>Self-hosted over SaaS \u2014 where possible, open-source alternatives replace commercial services</li> <li>Separation of concerns \u2014 public content is explicitly chosen and committed, never auto-synced</li> </ul>","tags":["homelab","linux","ubuntu","self-hosted","vps"]},{"location":"homelab/My%20Homelab%20Setup/","title":"My Homelab Setup","text":"<p>Two-node setup: a local workstation (HP EliteBook) and a remote VPS (Contabo), connected via SSH and managed through CLI.</p>","tags":["homelab","ubuntu","linux","vps","docker","hestia"]},{"location":"homelab/My%20Homelab%20Setup/#local-workstation","title":"Local Workstation","text":"<p>HP EliteBook 845 G8</p> Component Details OS Ubuntu 24.04.4 LTS (kernel 6.8.0) CPU AMD Ryzen 5 PRO 5650U \u2014 6 cores / 12 threads RAM 16 GB Storage 1 TB NVMe SSD (LVM + LUKS encryption) Network WiFi \u2014 wlp2s0 <p>Encryption: Full disk encryption via LUKS on NVMe (<code>nvme0n1p3_crypt</code>) with LVM on top \u2014 929 GB root volume.</p> <p>Installed tools:</p> Tool Version Ubuntu 24.04.4 LTS Docker 29.2.1 Python 3.12.3 Git 2.43.0 Currently learning: <code>kubectl</code>, <code>terraform</code>, <code>ansible</code> \u2014 not yet installed.","tags":["homelab","ubuntu","linux","vps","docker","hestia"]},{"location":"homelab/My%20Homelab%20Setup/#vps-contabo","title":"VPS \u2014 Contabo","text":"<p>Location: Germany</p> Component Details OS Ubuntu 22.04.5 LTS CPU AMD EPYC \u2014 6 vCPUs RAM 12 GB Storage 200 GB SSD Provider Contabo <p>Running services:</p> Service Role Nginx Reverse proxy / web server Apache2 Web server (HestiaCP managed) HestiaCP Hosting control panel MariaDB 11.4 Database server PHP 8.3 FPM PHP runtime Dovecot IMAP/POP3 mail server Exim4 Mail transfer agent BIND (named) DNS server Docker 28.3.3 Container runtime Fail2ban Intrusion prevention ClamAV Antivirus SpamAssassin Spam filtering","tags":["homelab","ubuntu","linux","vps","docker","hestia"]},{"location":"homelab/My%20Homelab%20Setup/#network-dns","title":"Network &amp; DNS","text":"<p>DNS and CDN managed through Cloudflare: - <code>serg-markovich.de</code> \u2192 Contabo VPS IP - <code>notes.serg-markovich.de</code> \u2192 CNAME to <code>serg-markovich.github.io</code> (DNS only, no proxy)</p>","tags":["homelab","ubuntu","linux","vps","docker","hestia"]},{"location":"homelab/My%20Homelab%20Setup/#related","title":"Related","text":"<ul> <li>Obsidian Vault Local Setup</li> <li>Obsidian Public Knowledge Base</li> </ul>","tags":["homelab","ubuntu","linux","vps","docker","hestia"]},{"location":"homelab/Obsidian%20Vault%20Local%20Setup/","title":"Obsidian Vault Local Setup","text":"<p>Local configuration of the Obsidian vault on Ubuntu 24.04 (HP EliteBook 845 G8) with a public subfolder connected to GitHub and deployed via MkDocs Material.</p>","tags":["obsidian","git","ubuntu","homelab","knowledge-management"]},{"location":"homelab/Obsidian%20Vault%20Local%20Setup/#folder-structure","title":"Folder structure","text":"<pre><code>~/obsidian/\n\u251c\u2500\u2500 .obsidian/              \u2190 Obsidian config, plugins (local only)\n\u251c\u2500\u2500 0_inbox/                \u2190 raw captures, voice transcripts\n\u251c\u2500\u2500 1_journal/\n\u251c\u2500\u2500 2_areas/\n\u251c\u2500\u2500 3_projects/\n\u251c\u2500\u2500 4_resources/\n\u251c\u2500\u2500 5_system/               \u2190 templates, workflow notes\n\u251c\u2500\u2500 6_archive/\n\u2514\u2500\u2500 public/                 \u2190 separate git repo (obsidian-public)\n    \u251c\u2500\u2500 .git/\n    \u251c\u2500\u2500 .github/workflows/\n    \u251c\u2500\u2500 docs/\n    \u2502   \u251c\u2500\u2500 azure/\n    \u2502   \u251c\u2500\u2500 devops/\n    \u2502   \u251c\u2500\u2500 homelab/\n    \u2502   \u251c\u2500\u2500 portfolio/\n    \u2502   \u2514\u2500\u2500 til/\n    \u2514\u2500\u2500 mkdocs.yml\n</code></pre> <p>The <code>public/</code> folder is an independent git repository nested inside the vault. The outer vault has no git \u2014 only <code>public/</code> is version controlled.</p>","tags":["obsidian","git","ubuntu","homelab","knowledge-management"]},{"location":"homelab/Obsidian%20Vault%20Local%20Setup/#git-isolation-strategy","title":"Git isolation strategy","text":"<p>The <code>public/</code> repo <code>.gitignore</code> excludes:</p> <pre><code>.obsidian/          \u2190 plugins, API keys, personal config\n_inbox/             \u2190 raw unprocessed notes\nsite/               \u2190 MkDocs build output\n*.canvas            \u2190 Obsidian canvas files\n</code></pre> <p>This ensures only finished, intentional content reaches the public repository.</p>","tags":["obsidian","git","ubuntu","homelab","knowledge-management"]},{"location":"homelab/Obsidian%20Vault%20Local%20Setup/#daily-publishing-workflow","title":"Daily publishing workflow","text":"<pre><code># 1. Write note in Obsidian, save to ~/obsidian/public/docs/\n# 2. When ready to publish:\ncd ~/obsidian/public\ngit add docs/\ngit commit -m \"add: note title\"\ngit push\n# GitHub Actions builds and deploys automatically\n</code></pre> <p>No auto-commit. Every push is intentional \u2014 the public git history is clean and visible to potential employers.</p>","tags":["obsidian","git","ubuntu","homelab","knowledge-management"]},{"location":"homelab/Obsidian%20Vault%20Local%20Setup/#github-actions-pipeline","title":"GitHub Actions pipeline","text":"<p>On every push to <code>main</code>:</p> <ol> <li>Installs <code>mkdocs&lt;2.0</code> and <code>mkdocs-material</code></li> <li>Runs <code>mkdocs gh-deploy --force</code></li> <li>Pushes built site to <code>gh-pages</code> branch</li> <li>GitHub Pages serves at <code>notes.serg-markovich.de</code></li> </ol> <p>Full pipeline: deploy.yml</p>","tags":["obsidian","git","ubuntu","homelab","knowledge-management"]},{"location":"homelab/Obsidian%20Vault%20Local%20Setup/#dns-configuration","title":"DNS configuration","text":"<pre><code>Cloudflare DNS:\nType:   CNAME\nName:   notes\nTarget: serg-markovich.github.io\nProxy:  DNS only (grey cloud)\n</code></pre> <p>SSL is handled automatically by GitHub Pages via Let's Encrypt.</p>","tags":["obsidian","git","ubuntu","homelab","knowledge-management"]},{"location":"homelab/Obsidian%20Vault%20Local%20Setup/#related","title":"Related","text":"<ul> <li>Obsidian Public Knowledge Base</li> <li>MkDocs + GitHub Pages Deployment Patterns</li> </ul>","tags":["obsidian","git","ubuntu","homelab","knowledge-management"]},{"location":"portfolio/","title":"Portfolio","text":"<ul> <li>Obsidian Public Knowledge Base</li> <li>Zero-Maintenance DevOps Portfolio &amp; ATS-Friendly CV</li> <li>Battery-Optimized Local AI Stack (Open WebUI + Ollama)</li> </ul>","tags":["portfolio","projects","devops"]},{"location":"portfolio/#open-to-collaboration","title":"Open to collaboration","text":"<p>If you have an interesting project, idea or want to discuss DevOps topics \u2014 feel free to reach out. me@serg-markovich.de</p>","tags":["portfolio","projects","devops"]},{"location":"portfolio/Battery-Optimized%20Local%20AI%20Stack%20%28Open%20WebUI%20%2B%20Ollama%29/","title":"Project: Battery-Optimized Local AI Stack","text":"<p>A production-ready approach to running Open WebUI and Ollama locally, utilizing systemd user services, Docker bridge networking, and desktop integration to prevent idle battery drain.</p> <p>Links:</p> <ul> <li>\ud83d\udcbb Source Code: serg-markovich/openwebui-systemd-stack</li> <li>\ud83d\udcd6 Architecture Docs: Read the full deep-dive</li> </ul>","tags":["docker","systemd","linux","self-hosted","ai"]},{"location":"portfolio/Battery-Optimized%20Local%20AI%20Stack%20%28Open%20WebUI%20%2B%20Ollama%29/#the-problem","title":"The Problem","text":"<p>Most guides for running local LLMs suggest a simple <code>docker run</code> or setting <code>restart: unless-stopped</code> in a compose file. While fine for a server, running a constantly spinning Docker container on a laptop like an HP EliteBook 845 G8 running Ubuntu 24.04 results in severe battery drain. I noticed a 30% overnight battery drop just from idle containers consuming RAM and CPU cycles.</p> <p>The goal was to build a system that offers the convenience of a native desktop application but remains fully containerized, isolated, and strictly strictly on-demand.</p>","tags":["docker","systemd","linux","self-hosted","ai"]},{"location":"portfolio/Battery-Optimized%20Local%20AI%20Stack%20%28Open%20WebUI%20%2B%20Ollama%29/#architecture-key-decisions","title":"Architecture &amp; Key Decisions","text":"<p>To achieve zero idle resource consumption while maintaining a seamless user experience, I engineered a stack combining <code>systemd</code>, <code>docker compose</code>, and Freedesktop standards.</p>","tags":["docker","systemd","linux","self-hosted","ai"]},{"location":"portfolio/Battery-Optimized%20Local%20AI%20Stack%20%28Open%20WebUI%20%2B%20Ollama%29/#1-manual-control-via-systemd-user-services","title":"1. Manual Control via systemd User Services","text":"<p>Instead of running Docker containers as root-level daemons, I mapped the <code>docker compose</code> lifecycle to a <code>systemd</code> user service.  * Discovery: A standard <code>Type=simple</code> service stays in an \"activating\" state forever because the <code>compose up</code> process exits after spinning up the containers.  * Solution: Using <code>Type=oneshot</code> combined with <code>RemainAfterExit=yes</code> correctly tracks the state of the containers, allowing for clean <code>systemctl --user start/stop</code> commands without requiring <code>sudo</code>. This switch to manual control immediately yielded 20-30% daily battery savings.</p>","tags":["docker","systemd","linux","self-hosted","ai"]},{"location":"portfolio/Battery-Optimized%20Local%20AI%20Stack%20%28Open%20WebUI%20%2B%20Ollama%29/#2-bridge-networking-vs-host-mode","title":"2. Bridge Networking vs. Host Mode","text":"<p>While host networking is easier for prototyping, I opted for Docker bridge networking for better isolation.  * The Gotcha: Ollama defaults to listening on <code>127.0.0.1</code>, making it unreachable from the Open WebUI container.  * The Fix: Passing <code>OLLAMA_HOST=0.0.0.0</code> and routing the API calls through the Docker gateway IP (<code>172.17.0.1</code>) ensures strict container isolation without sacrificing connectivity.</p>","tags":["docker","systemd","linux","self-hosted","ai"]},{"location":"portfolio/Battery-Optimized%20Local%20AI%20Stack%20%28Open%20WebUI%20%2B%20Ollama%29/#3-desktop-integration","title":"3. Desktop Integration","text":"<p>To avoid opening a terminal every time I wanted to chat with an LLM, I created standard <code>.desktop</code> XDG launchers. This bridges the CLI automation with the graphical environment, polling the container's health and opening the browser only when the API is actually ready to accept connections.</p>","tags":["docker","systemd","linux","self-hosted","ai"]},{"location":"portfolio/Battery-Optimized%20Local%20AI%20Stack%20%28Open%20WebUI%20%2B%20Ollama%29/#results-impact","title":"Results &amp; Impact","text":"<ul> <li>Efficiency: Recovered 20-30% of daily battery life by strictly controlling container uptime.</li> <li>Security: Ran entirely as a non-root user service with isolated bridge networking.</li> <li>UX: One-click launch from the application menu, indistinguishable from a native app.</li> </ul>","tags":["docker","systemd","linux","self-hosted","ai"]},{"location":"portfolio/Battery-Optimized%20Local%20AI%20Stack%20%28Open%20WebUI%20%2B%20Ollama%29/#related","title":"Related","text":"<ul> <li>Reliable Desktop Integration for Local Docker Services (XDG &amp; systemd)</li> </ul>","tags":["docker","systemd","linux","self-hosted","ai"]},{"location":"portfolio/Obsidian%20Public%20Knowledge%20Base/","title":"Obsidian Public Knowledge Base","text":"<p>Public knowledge base built with Obsidian and deployed as a static site via MkDocs Material and GitHub Actions.</p> <p>Repository: github.com/serg-markovich/obsidian-public Live site: notes.serg-markovich.de</p>","tags":["obsidian","mkdocs","github-pages","cicd","knowledge-management"]},{"location":"portfolio/Obsidian%20Public%20Knowledge%20Base/#problem","title":"Problem","text":"<p>Obsidian is great for private note-taking, but sharing knowledge publicly requires a separate publishing workflow \u2014 without paying for Obsidian Publish.</p>","tags":["obsidian","mkdocs","github-pages","cicd","knowledge-management"]},{"location":"portfolio/Obsidian%20Public%20Knowledge%20Base/#solution","title":"Solution","text":"<p>A public subfolder of the Obsidian vault connected to a dedicated git repository. Every <code>git push</code> triggers GitHub Actions which builds a static site with MkDocs Material and deploys it to GitHub Pages under a custom subdomain.</p>","tags":["obsidian","mkdocs","github-pages","cicd","knowledge-management"]},{"location":"portfolio/Obsidian%20Public%20Knowledge%20Base/#stack","title":"Stack","text":"Tool Role Obsidian Writing environment MkDocs Material Static site generator GitHub Actions CI/CD \u2014 build and deploy on push GitHub Pages Hosting Cloudflare DNS \u2014 CNAME to github.io Let's Encrypt SSL \u2014 auto via GitHub Pages","tags":["obsidian","mkdocs","github-pages","cicd","knowledge-management"]},{"location":"portfolio/Obsidian%20Public%20Knowledge%20Base/#architecture","title":"Architecture","text":"<pre><code>~/obsidian/public/          \u2190 git root (this repo)\n\u251c\u2500\u2500 .github/workflows/\n\u2502   \u2514\u2500\u2500 deploy.yml          \u2190 GitHub Actions pipeline\n\u251c\u2500\u2500 docs/                   \u2190 all content here\n\u2502   \u251c\u2500\u2500 index.md\n\u2502   \u251c\u2500\u2500 azure/\n\u2502   \u251c\u2500\u2500 devops/\n\u2502   \u251c\u2500\u2500 homelab/\n\u2502   \u251c\u2500\u2500 portfolio/\n\u2502   \u2514\u2500\u2500 til/\n\u2514\u2500\u2500 mkdocs.yml              \u2190 site configuration\n</code></pre> <p>On every push to <code>main</code>:</p> <ol> <li>GitHub Actions installs <code>mkdocs&lt;2.0</code> and <code>mkdocs-material</code></li> <li>Runs <code>mkdocs gh-deploy --force</code></li> <li>Pushes built site to <code>gh-pages</code> branch</li> <li>GitHub Pages serves it at <code>notes.serg-markovich.de</code></li> </ol>","tags":["obsidian","mkdocs","github-pages","cicd","knowledge-management"]},{"location":"portfolio/Obsidian%20Public%20Knowledge%20Base/#key-decisions","title":"Key decisions","text":"<p>Separate repo from main vault \u2014 the public repo has its own git history, independent of private notes. Only content placed in <code>docs/</code> is published.</p> <p>MkDocs over Quartz \u2014 simpler setup, better Python ecosystem integration, no Node.js dependency.</p> <p>Manual publishing workflow \u2014 no auto-commit on every Obsidian save. Each commit is intentional, resulting in a clean public git history visible to potential employers.</p>","tags":["obsidian","mkdocs","github-pages","cicd","knowledge-management"]},{"location":"portfolio/Obsidian%20Public%20Knowledge%20Base/#related","title":"Related","text":"<ul> <li>MkDocs + GitHub Pages Deployment Patterns</li> <li>Zero-Maintenance DevOps Portfolio &amp; ATS-Friendly CV</li> </ul>","tags":["obsidian","mkdocs","github-pages","cicd","knowledge-management"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/","title":"Project: Zero-Maintenance DevOps Portfolio &amp; ATS-Friendly CV","text":"","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#summary","title":"Summary","text":"<p>A lightweight, zero-maintenance personal portfolio and dual-language CV built without frameworks. Designed to serve as both a developer-friendly website (Dark Theme) and a formal, ATS-compliant printable document (Light Theme) using only Vanilla HTML/CSS and GitHub Pages.</p> <p>Links:</p> <ul> <li>\ud83d\udcc4 Web CV (English): serg-markovich.de/cv</li> <li>\ud83c\udde9\ud83c\uddea Web Lebenslauf (Deutsch): serg-markovich.de/de/cv</li> <li>\ud83d\udcbb Source Code: GitHub Repository</li> </ul>","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#details","title":"Details","text":"","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#the-problem","title":"The Problem","text":"<p>As a DevOps Engineer entering the German market, I needed a way to present my experience that satisfied two very different audiences: 1. Engineers/Tech Leads: Who appreciate clean code, dark themes, and fast load times. 2. HR/ATS Systems: Who require standard, parsable, light-themed PDF documents (<code>Lebenslauf</code>).</p> <p>Maintaining a website, a separate Word document for the English CV, and another for the German CV violates the DRY (Don't Repeat Yourself) principle and leads to outdated information.</p>","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#the-architecture","title":"The Architecture","text":"<p>Instead of using a heavy Static Site Generator (SSG) like Next.js or Hugo, which would require CI/CD pipelines and node module maintenance, I chose radical simplicity: *   Hosting: GitHub Pages (Native, Free, High Availability) *   Tech Stack: Vanilla HTML5, CSS3, ES6 JavaScript *   Routing: Simple file paths (<code>/</code>, <code>/cv.html</code>, <code>/cv-de.html</code>)</p>","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#key-engineering-decisions","title":"Key Engineering Decisions","text":"","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#1-single-source-of-truth-for-cvs","title":"1. Single Source of Truth for CVs","text":"<p>The HTML pages (<code>cv.html</code> and <code>cv-de.html</code>) serve as both the web presentation and the source for the PDF.  By utilizing CSS <code>@media print</code> queries, the browser's native print engine strips away the web UI (navigation, buttons), forces a white background, and enforces strict page-break rules. This guarantees a 100% ATS-readable PDF with zero layout shifts.</p>","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#2-client-side-theme-management","title":"2. Client-Side Theme Management","text":"<p>To accommodate different viewing preferences without a backend, I implemented a CSS Variable-based theme system.  A tiny Vanilla JS script toggles a <code>.light-theme</code> class on the <code>&lt;body&gt;</code> and persists the state in <code>localStorage</code>. </p>","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#3-localization-strategy-i18n","title":"3. Localization Strategy (i18n)","text":"<p>For a massive web app, a translation layer (JSON/YAML) is necessary. For a 3-page personal site, file duplication (<code>index.html</code> vs <code>/de/index.html</code>) is actually more maintainable. It allows for language-specific structural tweaks (like adding a photo for the German Lebenslauf, which isn't standard in the US/UK format) without complex conditional rendering logic.</p>","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#results-impact","title":"Results &amp; Impact","text":"<ul> <li>Performance: 100/100 Lighthouse score (instant load times).</li> <li>Maintenance: 0 hours per month. Updating a job description is a single Git commit.</li> <li>UX: Seamless transition between a \"hacker-style\" dark portfolio and a corporate-ready CV.</li> </ul>","tags":["github-pages","html-css","architecture","career"]},{"location":"portfolio/Zero-Maintenance%20DevOps%20Portfolio%20%26%20ATS-Friendly%20CV/#related","title":"Related","text":"<ul> <li>Vanilla HTML_CSS Portfolio &amp; ATS-Friendly CV</li> </ul>","tags":["github-pages","html-css","architecture","career"]},{"location":"til/","title":"TIL","text":"<ul> <li>MkDocs + GitHub Pages Deployment Patterns</li> <li>Vanilla HTML_CSS Portfolio &amp; ATS-Friendly CV</li> <li>Reliable Desktop Integration for Local Docker Services (XDG &amp; systemd)</li> </ul>","tags":["til","devops","linux"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/","title":"TIL: Publishing an Obsidian Vault with MkDocs + GitHub Pages","text":"","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#what-i-built","title":"What I built","text":"<p>A public knowledge base at notes.serg-markovich.de from an Obsidian vault using MkDocs Material, GitHub Actions and Cloudflare DNS.</p>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#devops-patterns-applied","title":"DevOps patterns applied","text":"","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#1-separation-of-concerns","title":"1. Separation of concerns","text":"<p>Keep each project in its own repository with independent commit history. The public vault is separate from the main website \u2014 different content, different deploy pipelines.</p>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#2-everything-as-code","title":"2. Everything as code","text":"<p>All config lives in files \u2014 never manual changes in GitHub UI:</p> <ul> <li><code>mkdocs.yml</code> \u2014 site configuration</li> <li><code>.github/workflows/deploy.yml</code> \u2014 CI/CD pipeline</li> <li><code>.gitignore</code> / <code>.gitattributes</code> \u2014 repo hygiene</li> </ul>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#3-cicd-with-github-actions","title":"3. CI/CD with GitHub Actions","text":"<p>Every <code>git push</code> to <code>main</code> triggers automatic build and deploy. Pin <code>mkdocs&lt;2.0</code>, not <code>mkdocs-material</code> \u2014 MkDocs 2.0 is the breaking change.</p>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#4-immutable-build-artifacts","title":"4. Immutable build artifacts","text":"<p>The <code>site/</code> folder is never committed \u2014 generated fresh on every deploy. Add <code>site/</code> to <code>.gitignore</code>.</p>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#5-dns-without-proxy-for-github-pages","title":"5. DNS without proxy for GitHub Pages","text":"<p>Cloudflare orange cloud breaks GitHub Pages SSL validation. Use grey cloud (DNS only) with CNAME pointing to <code>serg-markovich.github.io</code>.</p>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#troubleshooting","title":"Troubleshooting","text":"","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#actions-runs-in-15s-and-silently-fails","title":"Actions runs in 15s and silently fails","text":"<p>Cause: YAML syntax error \u2014 GitHub ignores invalid workflow files silently. Fix: Recreate with heredoc to avoid indentation issues:</p> <pre><code>cat &gt; .github/workflows/deploy.yml &lt;&lt; 'EOF'\n...\nEOF\n</code></pre>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#permission-denied-on-git-push","title":"Permission denied on git push","text":"<p>Cause: Remote set to SSH, but no key added to GitHub. Fix:</p> <pre><code>git remote set-url origin https://github.com/user/repo.git\n</code></pre>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#github-pages-shows-jekyll-instead-of-mkdocs","title":"GitHub Pages shows Jekyll instead of MkDocs","text":"<p>Cause: Auto-generated <code>jekyll-gh-pages.yml</code> conflicts with custom workflow. Fix:</p> <pre><code>git rm .github/workflows/jekyll-gh-pages.yml\n</code></pre>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#theme-material-has-no-configuration-file","title":"Theme material has no configuration file","text":"<p>Cause: MkDocs 2.0 installed \u2014 incompatible with mkdocs-material. Fix:</p> <pre><code>pip install \"mkdocs&lt;2.0\" mkdocs-material\n</code></pre>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#github-actionsbot-permission-denied-on-push","title":"github-actions[bot] permission denied on push","text":"<p>Cause: Missing permissions block in workflow. Fix:</p> <pre><code>permissions:\n  contents: write\n</code></pre>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/MkDocs%20%2B%20GitHub%20Pages%20Deployment%20Patterns/#related-notes","title":"Related Notes","text":"<ul> <li>Obsidian Public Knowledge Base</li> <li>Obsidian Vault Local Setup</li> </ul>","tags":["git","github-actions","mkdocs","cicd","dns","obsidian"]},{"location":"til/Reliable%20Desktop%20Integration%20for%20Local%20Docker%20Services%20%28XDG%20%26%20systemd%29/","title":"Reliable Desktop Integration for Local Docker Services (XDG &amp; systemd)","text":"","tags":["til","linux","systemd","docker","xdg","bash"]},{"location":"til/Reliable%20Desktop%20Integration%20for%20Local%20Docker%20Services%20%28XDG%20%26%20systemd%29/#summary","title":"Summary","text":"<p>When building local infrastructure (like AI stacks, personal knowledge management tools, or privacy-focused self-hosted apps) running in Docker containers managed by systemd user services, integrating them seamlessly with the Linux desktop environment presents hidden challenges. Specifically, passing dynamic variables like <code>$HOME</code> to the <code>.desktop</code> launcher's <code>Exec</code> parameter, and ensuring background GUI tasks (like opening a browser via <code>xdg-open</code>) don't die when the ephemeral terminal window closes.</p>","tags":["til","linux","systemd","docker","xdg","bash"]},{"location":"til/Reliable%20Desktop%20Integration%20for%20Local%20Docker%20Services%20%28XDG%20%26%20systemd%29/#the-challenge","title":"The Challenge","text":"<p>While packaging a local stack (like Open WebUI + Ollama, though this applies equally to local instances of Gitea, Nextcloud, or any other self-hosted service), I ran into three common DevOps pain points when bridging CLI automation with a graphical environment:</p> <p>1. The <code>Exec</code> Path Expansion Trap The Freedesktop specification handles the <code>Exec</code> parameter differently depending on the desktop environment. It does not automatically run through a full shell interpreter. If you use <code>Terminal=true</code> and wrap your command in single quotes (e.g., <code>bash -c '$HOME/script.sh'</code>), the variable is treated literally, and the launch silently fails. </p> <p>2. The D-Bus Race Condition When a launcher opens an ephemeral terminal to execute a setup script, it kills all child processes immediately upon exiting. If your script ends with <code>xdg-open http://localhost:3000</code> to launch the UI, the browser often never opens. This happens because <code>xdg-open</code> relies on D-Bus communication to trigger the default browser. Even with <code>nohup</code>, because the terminal emulator tears down the entire session (and its associated cgroup) upon exit, the D-Bus message can be interrupted mid-flight.</p> <p>3. Dumb Wait vs. Liveness Probes Relying on <code>sleep 15</code> before opening a browser is an anti-pattern. Container startup times vary wildly across different hardware. Applying a standard DevOps practice\u2014implementing an HTTP health check (Liveness Probe) similar to Kubernetes\u2014ensures the browser opens exactly when the application is ready to accept connections.</p>","tags":["til","linux","systemd","docker","xdg","bash"]},{"location":"til/Reliable%20Desktop%20Integration%20for%20Local%20Docker%20Services%20%28XDG%20%26%20systemd%29/#the-solution-a-bulletproof-pattern","title":"The Solution: A Bulletproof Pattern","text":"<p>Here is the reliable pattern for bridging a <code>.desktop</code> file to a systemd/Docker stack.</p>","tags":["til","linux","systemd","docker","xdg","bash"]},{"location":"til/Reliable%20Desktop%20Integration%20for%20Local%20Docker%20Services%20%28XDG%20%26%20systemd%29/#1-the-systemd-user-service","title":"1. The <code>systemd</code> User Service","text":"<p>First, define how your local Docker stack runs. Using a systemd user service (<code>~/.config/systemd/user/my-service.service</code>) allows you to manage containers without root privileges (assuming your user is in the <code>docker</code> group or you are using Rootless Docker).</p> <pre><code>[Unit]\nDescription=My Local Self-Hosted Stack\n# Ensures the network is up before starting\nAfter=network.target\n\n[Service]\n# 'oneshot' with 'RemainAfterExit' is perfect for docker compose\nType=oneshot\nRemainAfterExit=yes\n# %h resolves to $HOME in systemd user units\nWorkingDirectory=%h/projects/my-service\nExecStart=/usr/bin/docker compose up -d\nExecStop=/usr/bin/docker compose down\n\n[Install]\nWantedBy=default.target\n````\n\n_Reload systemd to pick up the new file: `systemctl --user daemon-reload`_\n\n### 2. The `.desktop` Launcher\n\nCreate your launcher file in `~/.local/share/applications/my-service.desktop`. Use `env bash` to ensure consistent, cross-platform evaluation of environment variables before executing the script.\n\n```Ini, TOML\n[Desktop Entry]\nVersion=1.0\nType=Application\nName=My Local Service\nIcon=utilities-terminal\n# \u274c Anti-pattern: Variables won't expand correctly\n# Exec=bash -c '$HOME/scripts/start.sh'\n# \u2705 Best Practice: Reliable cross-environment expansion\nExec=env bash -c '\"$HOME\"/scripts/start.sh'\nTerminal=true\n</code></pre>","tags":["til","linux","systemd","docker","xdg","bash"]},{"location":"til/Reliable%20Desktop%20Integration%20for%20Local%20Docker%20Services%20%28XDG%20%26%20systemd%29/#3-the-startup-script-liveness-probe-safe-gui-launch","title":"3. The Startup Script (Liveness Probe + Safe GUI Launch)","text":"<p>Replace arbitrary <code>sleep</code> timers with an HTTP polling loop, and detach the <code>xdg-open</code> process carefully so it survives the terminal's exit.</p> <pre><code>#!/usr/bin/env bash\nset -euo pipefail\n\necho \"Starting systemd user service...\"\nsystemctl --user start my-service\n\n# DevOps Pattern: Implement a Liveness Probe instead of a \"dumb wait\"\necho \"Waiting for the application API to become fully ready...\"\nMAX_RETRIES=30\nRETRY_COUNT=0\nTARGET_URL=\"http://localhost:3000\"\n\nwhile true; do\n    # Suppress output, return only the HTTP status code\n    HTTP_STATUS=$(curl -s -o /dev/null -w \"%{http_code}\" \"$TARGET_URL\" || echo \"000\")\n\n    if [ \"$HTTP_STATUS\" -eq 200 ]; then\n        echo \"\u2705 Application API is up!\"\n        break\n    fi\n\n    if [ \"$RETRY_COUNT\" -ge \"$MAX_RETRIES\" ]; then\n        echo \"\u274c Service failed to start within 60s.\"\n        exit 1\n    fi\n\n    sleep 2\n    RETRY_COUNT=$((RETRY_COUNT + 1))\ndone\n\n# Launch browser in the background, detached from the terminal session\nnohup xdg-open \"$TARGET_URL\" &gt;/dev/null 2&gt;&amp;1 &amp;\n\n# Crucial: Allow D-Bus a brief window to dispatch the request before the terminal \n# session (and its cgroup) is destroyed. `nohup` alone is not enough here!\nsleep 2\nexit 0\n</code></pre>","tags":["til","linux","systemd","docker","xdg","bash"]},{"location":"til/Reliable%20Desktop%20Integration%20for%20Local%20Docker%20Services%20%28XDG%20%26%20systemd%29/#conclusion","title":"Conclusion","text":"<p>Bridging the gap between robust container management and the unpredictability of a local desktop session doesn't have to result in flaky shortcuts. By applying standard DevOps practices\u2014like proper environment evaluation and liveness probes\u2014to local XDG launchers, we can achieve reliable, one-click access to our local infrastructure.</p> <p>Whether you are spinning up local AI models or managing a comprehensive self-hosted privacy stack, this pattern ensures your frontend only reacts when your backend is truly ready to serve traffic.</p>","tags":["til","linux","systemd","docker","xdg","bash"]},{"location":"til/Reliable%20Desktop%20Integration%20for%20Local%20Docker%20Services%20%28XDG%20%26%20systemd%29/#related-notes","title":"Related Notes","text":"<ul> <li>Battery-Optimized Local AI Stack (Open WebUI + Ollama)</li> </ul>","tags":["til","linux","systemd","docker","xdg","bash"]},{"location":"til/Vanilla%20HTML_CSS%20Portfolio%20%26%20ATS-Friendly%20CV/","title":"Vanilla HTML/CSS Portfolio &amp; ATS-Friendly CV","text":"","tags":["til","github-pages","css","career"]},{"location":"til/Vanilla%20HTML_CSS%20Portfolio%20%26%20ATS-Friendly%20CV/#summary","title":"Summary","text":"<p>Building a professional, dual-language (EN/DE) DevOps portfolio and CV. Instead of over-engineering with heavy frameworks (React/Next.js) or maintaining separate Word/LaTeX documents, I used Vanilla HTML/CSS hosted on GitHub Pages. The core achievement is an ATS-friendly, auto-formatting CV that exports perfectly to PDF via the browser's native print function, while maintaining a Dark/Light theme toggle for the web version.</p>","tags":["til","github-pages","css","career"]},{"location":"til/Vanilla%20HTML_CSS%20Portfolio%20%26%20ATS-Friendly%20CV/#details","title":"Details","text":"<p>The main goal was to have a single source of truth for the CV that looks great on the web (Dark Mode by default) but prints perfectly as a formal document (Light Mode, no UI elements).</p> <p>Key Architectural Decisions: 1. Zero-Build Pipeline: Pure static files (<code>index.html</code>, <code>cv.html</code>, <code>style.css</code>) deployed directly via GitHub Pages. No Node.js vulnerabilities, zero maintenance. 2. CSS Custom Properties: Used CSS variables (<code>:root</code>) and a <code>localStorage</code> JavaScript toggle to switch themes without heavy state-management libraries. 3. Print Media Queries: Used <code>@media print</code> to strip away web UI elements (navigation, buttons) and force a white background with black text when saving to PDF. 4. Pragmatic i18n: Duplicated <code>cv.html</code> to <code>cv-de.html</code> for the German version. For a 2-page static site, file duplication is much simpler to maintain than a JSON translation layer.</p>","tags":["til","github-pages","css","career"]},{"location":"til/Vanilla%20HTML_CSS%20Portfolio%20%26%20ATS-Friendly%20CV/#commands-examples","title":"Commands / Examples","text":"","tags":["til","github-pages","css","career"]},{"location":"til/Vanilla%20HTML_CSS%20Portfolio%20%26%20ATS-Friendly%20CV/#1-theme-toggling-css-variables","title":"1. Theme Toggling (CSS Variables)","text":"<p>This setup allows smooth switching between themes using a simple class on the <code>&lt;body&gt;</code> tag.</p> <pre><code>/* Default Dark Theme */\n:root {\n    --bg-primary: #0d1117;\n    --text-primary: #c9d1d9;\n    --accent-primary: #58a6ff;\n}\n\n/* Light Theme Override */\nbody.light-theme {\n    --bg-primary: #ffffff;\n    --text-primary: #24292f;\n    --accent-primary: #0969da;\n}\n</code></pre>","tags":["til","github-pages","css","career"]},{"location":"til/Vanilla%20HTML_CSS%20Portfolio%20%26%20ATS-Friendly%20CV/#2-the-print-superpower-media-print","title":"2. The Print Superpower (<code>@media print</code>)","text":"<p>This is the magic that makes the HTML CV export perfectly to an ATS-friendly PDF. It hides the UI and forces page breaks to respect job blocks.</p> <pre><code>@media print {\n    body {\n        /* Force high contrast for printing */\n        background-color: #ffffff !important;\n        color: #000000 !important;\n    }\n\n    /* Hide navigation and buttons */\n    .page-header, .btn {\n        display: none !important; \n    }\n\n    /* Prevent a job block from splitting across two pages */\n    .job-block {\n        page-break-inside: avoid; \n    }\n\n    /* Standard A4 margins */\n    @page {\n        margin: 1.5cm; \n    }\n}\n</code></pre>","tags":["til","github-pages","css","career"]},{"location":"til/Vanilla%20HTML_CSS%20Portfolio%20%26%20ATS-Friendly%20CV/#3-minimal-vanilla-js-theme-persister","title":"3. Minimal Vanilla JS Theme Persister","text":"<p>A tiny script to remember the user's theme choice across reloads.</p> <pre><code>const toggleBtn = document.getElementById('theme-toggle');\nconst body = document.body;\n\n// Load saved preference\nconst currentTheme = localStorage.getItem('theme') || 'dark';\nif (currentTheme === 'light') {\n    body.classList.add('light-theme');\n}\n\n// Toggle on click\ntoggleBtn.addEventListener('click', () =&gt; {\n    body.classList.toggle('light-theme');\n    const isLight = body.classList.contains('light-theme');\n    localStorage.setItem('theme', isLight ? 'light' : 'dark');\n});\n</code></pre>","tags":["til","github-pages","css","career"]},{"location":"til/Vanilla%20HTML_CSS%20Portfolio%20%26%20ATS-Friendly%20CV/#related-notes","title":"Related Notes","text":"<ul> <li>Zero-Maintenance DevOps Portfolio &amp; ATS-Friendly CV</li> </ul>","tags":["til","github-pages","css","career"]}]}